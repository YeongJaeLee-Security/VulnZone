<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%@ page import="user.UserDAO"%>
<%
request.setCharacterEncoding("UTF-8");
%>

<!-- 현재 page 안에서 User 클래스 사용 -->
<jsp:useBean id="user" class="user.User" scope="page" />
<jsp:setProperty name="user" property="userID" />
<jsp:setProperty name="user" property="userPassword" />

<!DOCTYPE html>
<html>
<head>
<jsp:include page="../common/commonHead.jsp" />
</head>
<body>
	<jsp:include page="../common/header.jsp" />
	<jsp:include page="../common/commonExploitsNavigation.jsp" />

	<div class="container">
		<h1>Brute Force</h1>
        <div class="col-sm-6 col-md-6">
            <div class="jumbotron" style="padding-top: 20px;">
                <form method="GET" action="#">
                    <h3 style="text-align: center;">로그인</h3>
                    <!-- 아이디 입력란 -->
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="아이디" name="userID" maxlength="20">
                    </div>
                    
                    <!-- 비밀번호 입력란 -->
                    <div class="form-group">
                        <input type="password" class="form-control" placeholder="비밀번호" name="userPassword" maxlength="20">
                    </div>
                    
                    <!-- 로그인 버튼 -->
                    <input type="submit" class="btn btn-primary form-control" value="로그인">
                    
                    <div style="margin-top: 20px;">
	                     <% 
		                    String userID = request.getParameter("userID");
		                    String userPassword = request.getParameter("userPassword");
		
		                    if (userID != null && userPassword != null) {
		                        UserDAO userDAO = new UserDAO();
		                        int result = userDAO.login(userID, userPassword);
		
		                        switch (result) {
		                            case 1:
		                                out.println("<pre style='color: blue;'>Welcome to the password protected area, " + userID + "</pre>");
		                                out.println("<img src='https://t3.ftcdn.net/jpg/01/01/89/46/240_F_101894688_RVSZUtDfPR6Cr5eBDQI7Qo5pZ01jmyK3.jpg' style='width:100px;' alt='Protected area' />");
		                                break;
		                            default:
		                                out.println("<pre style='color: red;'>Username and/or password incorrect.</pre>");
		                                break;
		                        }
		                    }
	            		%>
            		</div>
                </form>
            </div>
        </div>
	</div>
</body>
</html>
